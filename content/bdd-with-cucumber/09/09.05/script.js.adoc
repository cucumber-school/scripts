=== Organizing step definitions into multiple files

include::./script.common-intro.adoc[]

To show you how this works, we can move all the steps to do with shouting over to a separate class.

First, create an empty class called `shout_steps.js` shot::[1]

[source,javascript]
----
include::../code/js/10-extract-shout-steps/features/step_definitions/steps.js[lines=1..2]
----

Now we can cut and paste those steps from the existing `step_definitions` class into this new one: shot::[2]

[source,javascript]
----
include::../code/js/10-extract-shout-steps/features/step_definitions/steps.js[lines=4..44]
----

Breaking apart your step definitions into multiple files is more of an art than a science, but we can give you a couple of pieces of advice. We've seen teams try to organise their step definitions by feature so that, for example, the premium accounts feature would have it's own steps file. We find that tends to work out badly, since while feature files live in the problem domain, step definitions are closer to the solution domain. Usually multiple features will need to carry out common actions against the system (think of logging in, for example), so this mapping doesn't work very well. We find it's better to organise your steps by _domain concept_. This is a bit hard to illustrate in a tiny solution like Shouty, but bear this in mind when you're working on your own projects.

We could continue to move code from our step definitions into the support layer. For example, we could write a support method for generating messages of a certain length, or a method for asserting that a person has heard certain messages.

Ideally, each step definition shot::[3] should only contain one or two lines that delegate to your support code.

[source,javascript]
----
include::../code/js/10-extract-shout-steps/features/step_definitions/steps.js[lines=12..14]
----


include::./script.common-end.adoc[]
